import{a as T}from"./chunk-FAUL3WKI.js";import{a as B}from"./chunk-E4ASYMHY.js";import"./chunk-5EGWKPCX.js";import{$ as b,A as u,Aa as Y,B as g,Ea as $,Ga as A,Ha as O,K as v,Ka as z,Q as a,R as C,W as h,Y as I,_ as E,aa as D,ba as F,ca as j,da as e,ea as t,fa as x,ia as S,la as m,ma as l,oa as o,pa as d,qa as p,r as y,sa as M,ta as P,ua as U,v as w,va as L,w as k}from"./chunk-QJIXC3RR.js";function G(i,n){i&1&&(e(0,"span"),o(1,"..."),t())}var V=i=>["/exercise",i];function J(i,n){if(i&1){let s=S();e(0,"div",17)(1,"div",18)(2,"div",19),o(3),t(),e(4,"div",20)(5,"h3",21),o(6),U(7,"slice"),E(8,G,2,0,"span"),t(),e(9,"p",22),o(10),t()(),e(11,"div",23)(12,"button",24),o(13,"Start Training"),t()()(),e(14,"div",25),x(15,"img",26),t(),e(16,"div",27),m("click",function(){let _=u(s).$implicit,f=l(2);return g(f.deleteUserExercise(_))}),x(17,"img",28),t()()}if(i&2){let s=n.$implicit;a(3),d(s.category.name),a(3),p(" ",L(7,7,s.name,0,10)," "),a(2),b(8,s.name.length>=10?8:-1),a(2),p("Duration - ",s.duration," min"),a(2),h("routerLink",P(11,V,s.id)),a(3),h("routerLink",P(13,V,s.id))("src",s.imagePath,v)}}function K(i,n){i&1&&(e(0,"div",29)(1,"h2",30),o(2,"You have not added any exercises yet"),t()())}function Q(i,n){if(i&1&&(e(0,"div",10)(1,"div",11)(2,"div",12)(3,"h3",13),o(4,"Search by category"),t(),e(5,"div",14)(6,"button",15),o(7,"Yesterday"),t(),e(8,"button",15),o(9,"Today"),t(),e(10,"button",15),o(11,"Tomorrow"),t()()(),e(12,"div",16),F(13,J,18,15,"div",31,D,!1,K,3,0),t()()()),i&2){let s=l();a(13),j(s.userExerciseList)}}function W(i,n){i&1&&(e(0,"span"),o(1,"..."),t())}function Z(i,n){if(i&1&&(e(0,"div",34)(1,"div",18)(2,"div",19),o(3),t(),e(4,"div",20)(5,"h3",21),o(6),U(7,"slice"),E(8,W,2,0,"span"),t(),e(9,"p",22),o(10),t()(),e(11,"div",35),x(12,"img",36),e(13,"p",37),o(14,"Completed"),t()()(),e(15,"div",25),x(16,"img",38),t()()),i&2){let s=n.$implicit;h("routerLink",P(10,V,s.id)),a(3),d(s.category.name),a(3),p(" ",L(7,6,s.name,0,10)," "),a(2),b(8,s.name.length>=10?8:-1),a(2),p("Duration - ",s.duration," min"),a(6),h("src",s.imagePath,v)}}function ee(i,n){i&1&&(e(0,"div",29)(1,"h2",30),o(2,"You have not done any exercises yet"),t()())}function te(i,n){if(i&1&&(e(0,"div",10)(1,"div",32)(2,"div",12)(3,"h3",13),o(4,"Search by category"),t(),e(5,"div",14)(6,"button",15),o(7,"Yesterday"),t(),e(8,"button",15),o(9,"Today"),t(),e(10,"button",15),o(11,"Tomorrow"),t()()(),e(12,"div",33),F(13,Z,17,12,"div",39,D,!1,ee,3,0),t()()()),i&2){let s=l();a(13),j(s.userCompletedExerciseList)}}var H=(()=>{let n=class n{constructor(c){this.userExerciseService=c,this.userExerciseList=[],this.userCompletedExerciseList=[],this.isCompletedExercise=!1;let r=new Date,_=new Date(r);_.setDate(r.getDate()),this.todaysDate=_.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}ngOnInit(){this.getUserExercises(),this.getUserCompletedExercises(),this.startDailyDataCleanupTimer()}getUserExercises(){this.userExerciseService.getAllUserExercise().subscribe(c=>{let r=c;this.userExerciseList=r.filter(_=>_.completed===!1)})}getUserCompletedExercises(){this.userExerciseService.getAllUserExercise().subscribe(c=>{let r=c;this.userCompletedExerciseList=r.filter(_=>_.completed===!0)})}deleteUserExercise(c){this.userExerciseService.deleteUserExercise(c.id).then(()=>{this.getUserExercises()})}startDailyDataCleanupTimer(){let f=24-new Date().getHours();f<0&&(f+=24),setTimeout(()=>{this.cleanUpAllExercise(),this.startDailyDataCleanupTimer()},f*60*60*1e3)}cleanUpAllExercise(){this.userExerciseService.getAllUserExercise().subscribe(c=>{c.length>=1&&c.map(r=>{this.userExerciseService.deleteUserExercise(r.id).then(()=>{})})})}toggleProcessExercises(){this.isCompletedExercise=!1}toggleCompletedExercises(){this.isCompletedExercise=!0}};n.\u0275fac=function(r){return new(r||n)(C(T))},n.\u0275cmp=w({type:n,selectors:[["app-exercise"]],standalone:!0,features:[M],decls:15,vars:8,consts:[[1,"container"],[1,"wrapper"],[1,"exercise__header"],[1,"exercise__header_info"],[1,"exercise__header_title"],[1,"exercise__header_text"],[1,"exercise__header_inner"],[1,"exercise__header_progress",3,"click"],[1,"exercise__header_completed",3,"click"],["class","exercise__main"],[1,"exercise__main"],[1,"exercise__main_wrapper"],[1,"exercise__main_category"],[1,"main__category_title"],[1,"main__category_block"],["type","button",1,"category__block_button"],[1,"exercise__main_inner"],[1,"exercise__main_item"],[1,"exercise__item_info"],[1,"item__info_category"],[1,"item__info_text"],[1,"info__text_name"],[1,"info__text_duration"],[1,"item__info_button"],["type","button",1,"info__button",3,"routerLink"],[1,"exercise__item_banner"],["alt","",1,"item__banner_image",3,"routerLink","src"],[1,"exercise__item_delete",3,"click"],["src","assets/images/delete-icon.svg","alt","",1,"item__delete_icon"],[1,"completed__empty_block"],[1,"completed__empty_text"],["class","exercise__main_item"],[1,"completed__exercise_wrapper"],[1,"exercise__completed_inner"],[1,"exercise__main_item",3,"routerLink"],[1,"item__info_completed"],["src","assets/images/completed-icon.svg","alt","",1,"info__completed_icon"],[1,"info__completed_text"],["alt","",1,"item__banner_image",3,"src"],["class","exercise__main_item",3,"routerLink"]],template:function(r,_){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),o(5),t(),e(6,"p",5),o(7),t()(),e(8,"div",6)(9,"button",7),m("click",function(){return _.toggleProcessExercises()}),o(10,"In Process"),t(),e(11,"button",8),m("click",function(){return _.toggleCompletedExercises()}),o(12,"Completed"),t()()(),E(13,Q,16,1,"div",9)(14,te,16,1,"div",9),t()()),r&2&&(a(5),d(_.isCompletedExercise?"Your Completed Exercises":"Your Exercises"),a(2),d(_.isCompletedExercise?"Your completed exercises are displayed here":"Choose one and start training"),a(2),I("active__inner",!_.isCompletedExercise),a(2),I("active__inner",_.isCompletedExercise),a(2),b(13,_.isCompletedExercise?-1:13),a(1),b(14,_.isCompletedExercise?14:-1))},dependencies:[B,O],styles:[".exercise__header[_ngcontent-%COMP%]{padding:30px 30px 0;display:flex;align-items:center;justify-content:space-between}.exercise__header_title[_ngcontent-%COMP%]{color:#212121}.exercise__header_text[_ngcontent-%COMP%]{margin-top:10px;color:#7e7e7e}.exercise__header_inner[_ngcontent-%COMP%]{width:228px;height:44px;background:#f5f5f5;border-radius:20px;display:flex;align-items:center;justify-content:center;padding:4px}.exercise__header_progress[_ngcontent-%COMP%], .exercise__header_completed[_ngcontent-%COMP%]{width:50%;height:100%;background:none;border-radius:20px;border:none;font-size:14px;color:#007efe;cursor:pointer}.exercise__main[_ngcontent-%COMP%]{width:100%;height:570px;background:#f5f5f5;border-radius:0 0 10px;margin-top:24px;padding:30px;position:relative}.exercise__main_category[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.exercise__main_inner[_ngcontent-%COMP%]{max-height:454px;width:100%;margin-top:10px;padding:20px 0;position:absolute;display:flex;flex-wrap:wrap;gap:10px;overflow:scroll}.exercise__main_inner[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.exercise__main_item[_ngcontent-%COMP%]{width:320px;height:140px;background:#fff;border-radius:10px;display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;cursor:pointer;position:relative}.exercise__completed_inner[_ngcontent-%COMP%]{max-height:454px;width:100%;margin-top:10px;display:flex;flex-wrap:wrap;gap:10px;overflow:scroll}.exercise__completed_inner[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.exercise__item_info[_ngcontent-%COMP%]{height:100%;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:column;padding:10px}.exercise__item_banner[_ngcontent-%COMP%]{width:140px;height:140px}.exercise__item_delete[_ngcontent-%COMP%]{width:26px;height:26px;background:#007EFE;display:flex;align-items:center;justify-content:center;border-radius:50%;position:absolute;top:-10px;right:-10px}.active__inner[_ngcontent-%COMP%]{background:#fff}.main__category_block[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.category__block_button[_ngcontent-%COMP%]{width:80px;height:32px;background:none;border:1px solid #007EFE;border-radius:20px;font-size:14px;color:#007efe;cursor:pointer;transition:.4s}.category__block_button[_ngcontent-%COMP%]:hover{background:#007EFE;color:#fff}.item__info_category[_ngcontent-%COMP%]{width:50px;height:20px;background:#9ECEFF;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:600;color:#007efe}.item__info_text[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center;flex-direction:column;gap:4px}.item__info_completed[_ngcontent-%COMP%]{width:132px;height:30px;background:#f5f5f5;border-radius:20px;display:flex;align-items:center;justify-content:center;gap:8px}.item__banner_image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;border-radius:10px}.item__delete_icon[_ngcontent-%COMP%]{width:14px;height:16px}.info__text_name[_ngcontent-%COMP%]{font-size:20px}.info__text_duration[_ngcontent-%COMP%]{font-size:13px;color:#7e7e7e}.info__button[_ngcontent-%COMP%]{width:100px;height:30px;background:#007EFE;border-radius:4px;border:none;outline:none;cursor:pointer;font-size:14px;color:#fff}.info__completed_text[_ngcontent-%COMP%]{color:#00b900;font-weight:500}.completed__empty_block[_ngcontent-%COMP%]{width:100%;height:454px;display:flex;align-items:center;justify-content:center}.completed__empty_text[_ngcontent-%COMP%]{color:#007efe;text-shadow:0 0 40px #007EFE}"]});let i=n;return i})();function ie(i,n){if(i&1){let s=S();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),x(4,"img",5),e(5,"p",6),o(6,"Back to Exercises"),t()(),e(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"p",11),o(12),t()(),e(13,"h2",12),o(14),t(),e(15,"div",13)(16,"p",14),o(17),t(),e(18,"p",15),o(19),t()(),e(20,"p",16),o(21),t(),e(22,"div",17)(23,"div",18)(24,"h2",19),o(25),t()(),e(26,"div",20)(27,"button",21),m("click",function(){u(s);let r=l();return g(r.startTimer())}),o(28,"Start"),t(),e(29,"button",22),m("click",function(){u(s);let r=l();return g(r.resetTimer())}),o(30,"Reset"),t(),e(31,"button",23),m("click",function(){u(s);let r=l();return g(r.stopTimer())}),o(32,"Stop"),t()()(),e(33,"div",24)(34,"button",25),m("click",function(){u(s);let r=l();return g(r.completeExercise(r.exercise))}),o(35,"Complete"),t()()(),e(36,"div",26),x(37,"img",27),t()()()()()()}if(i&2){let s=l();a(12),d(s.exercise.category.name),a(2),d(s.exercise.name),a(3),p("Duration - ",s.exercise.duration," min"),a(2),p("Count - ",s.exercise.count,""),a(2),p(" ",s.exercise.description," "),a(4),d(s.displayTime),a(12),h("src",s.exercise.gifImagePath,v)}}var N=(()=>{let n=class n{constructor(c,r,_){this.userExerciseService=c,this.activatedRoute=r,this.router=_,this.isStartTimerClicked=!1}ngOnInit(){this.getOneExercise()}ngOnDestroy(){this.stopTimer()}getOneExercise(){let c=this.activatedRoute.snapshot.paramMap.get("id");this.userExerciseService.getOneUserExercise(c).subscribe(r=>{this.exercise=r,this.time=this.exercise.duration,this.displayTime=this.exercise.duration,this.remainingTime=+this.time.slice(1,2)*60+ +this.time.slice(3,5)})}startTimer(){this.isStartTimerClicked=!this.isStartTimerClicked,this.exercise&&(this.timerID=setInterval(()=>{let c=Math.floor(this.remainingTime/60),r=this.remainingTime%60;this.displayTime=`${this.formatTime(c)}:${this.formatTime(r)}`,this.remainingTime--,this.remainingTime<=0&&(clearInterval(this.timerID),this.displayTime="00:00")},1e3))}formatTime(c){return c<10?`0${c}`:`${c}`}resetTimer(){clearInterval(this.timerID),this.displayTime=this.exercise.duration,this.remainingTime=+this.time.slice(1,2)*60+ +this.time.slice(3,5)}stopTimer(){clearInterval(this.timerID)}completeExercise(c){this.displayTime=="00:00"&&(this.router.navigate(["/exercise"]),c.completed=!0,this.userExerciseService.updateUserExercise(c,c.id).then(()=>{}))}};n.\u0275fac=function(r){return new(r||n)(C(T),C($),C(A))},n.\u0275cmp=w({type:n,selectors:[["app-exercise-info"]],standalone:!0,features:[M],decls:1,vars:1,consts:[["class","container"],[1,"container"],[1,"wrapper"],[1,"info__block"],["routerLink","/exercise",1,"info__block_header"],["src","assets/images/back-icon.svg","alt","",1,"info__header_icon"],[1,"info__header_text"],[1,"info__block_main"],[1,"info__main_wrapper"],[1,"info__main_text"],[1,"info__text_category"],[1,"info__category_text"],[1,"info__text_name"],[1,"info__text_table"],[1,"info__table_duration"],[1,"info__table_count"],[1,"info__text_paragraph"],[1,"info__text_timer"],[1,"info__timer_block"],[1,"info__timer_item"],[1,"info__timer_button"],["type","button",1,"info__button_item",3,"click"],["type","button",1,"info__button_item","button__reset",3,"click"],["type","button",1,"info__button_item","button__stop",3,"click"],[1,"info__text_complete"],["type","button",1,"info__complete_button",3,"click"],[1,"info__main_banner"],["alt","",1,"info__banner_image",3,"src"]],template:function(r,_){r&1&&E(0,ie,38,7,"div",0),r&2&&b(0,_.exercise?0:-1)},dependencies:[O],styles:[".info__block[_ngcontent-%COMP%]{width:100%;height:680px}.info__block_header[_ngcontent-%COMP%]{height:15%;padding:30px;display:flex;align-items:center;gap:8px;cursor:pointer}.info__block_main[_ngcontent-%COMP%]{width:100%;height:85%;background:#f5f5f5;border-radius:0 0 10px}.info__header_text[_ngcontent-%COMP%]{font-size:18px;margin-top:2px;color:#007efe}.info__main_wrapper[_ngcontent-%COMP%]{height:100%;padding:30px;display:flex;justify-content:space-between}.info__main_text[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;flex-direction:column}.info__main_banner[_ngcontent-%COMP%]{width:50%;height:100%}.info__text_category[_ngcontent-%COMP%]{width:80px;height:30px;background:#9ECEFF;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:600;color:#007efe}.info__text_name[_ngcontent-%COMP%]{font-size:30px;color:#212121;font-weight:700}.info__text_table[_ngcontent-%COMP%]{width:200px;height:60px;background:#fff;border-radius:10px;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:column;padding:10px}.info__text_timer[_ngcontent-%COMP%]{width:100%;height:120px;background:#fff;border-radius:10px;display:flex;align-items:center;justify-content:space-between;flex-direction:column;padding:20px 0}.info__text_paragraph[_ngcontent-%COMP%]{color:#7e7e7e;line-height:24px;width:400px}.info__category_text[_ngcontent-%COMP%]{font-size:16px;text-transform:uppercase}.info__table_duration[_ngcontent-%COMP%], .info__table_count[_ngcontent-%COMP%]{color:#007efe}.info__timer_block[_ngcontent-%COMP%]{width:100%;text-align:center}.info__timer_item[_ngcontent-%COMP%]{font-size:36px;color:#212121}.info__timer_button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-top:10px}.info__button_item[_ngcontent-%COMP%]{width:80px;height:32px;background:#007EFE;border:none;border-radius:6px;color:#fff;font-size:14px;cursor:pointer}.info__banner_image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.info__complete_button[_ngcontent-%COMP%]{width:140px;height:46px;background:rgb(0,185,0);border-radius:6px;border:none;color:#fff;font-size:18px;cursor:pointer;margin-top:40px}.button__reset[_ngcontent-%COMP%]{background:orange}.button__stop[_ngcontent-%COMP%]{background:red}"]});let i=n;return i})();var ne=[{path:"",component:H},{path:":id",component:N}],X=(()=>{let n=class n{};n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=k({type:n}),n.\u0275inj=y({imports:[z.forChild(ne),z]});let i=n;return i})();var Ce=(()=>{let n=class n{};n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=k({type:n}),n.\u0275inj=y({imports:[Y,X]});let i=n;return i})();export{Ce as ExerciseModule};
